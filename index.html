<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Lakshita üíñ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-pink: #ff69b4;
            --secondary-pink: #ff1493;
            --accent-purple: #da70d6;
            --accent-blue: #87ceeb;
            --accent-gold: #ffd700;
            --soft-white: #fffafa;
            --light-bg: linear-gradient(135deg, #fff0f5 0%, #f8f8ff 50%, #fff0f5 100%);
            --dark-bg: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            --text-dark: #4a4a4a;
            --text-light: #f5f5f5;
            --transition-smooth: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--light-bg);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            transition: var(--transition-smooth);
            opacity: 0;
            animation: fadeIn 1.2s ease forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        body.night-mode {
            background: var(--dark-bg);
        }

        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Elegant Cursor */
        body {
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cpath fill='%23ff69b4' d='M16 3C8.83 3 3 8.83 3 16s5.83 13 13 13 13-5.83 13-13S23.17 3 16 3zm0 2c6.08 0 11 4.92 11 11s-4.92 11-11 11S5 22.08 5 16 9.92 5 16 5z'/%3E%3Cpath fill='%23ff69b4' d='M16 8c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 2c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6z'/%3E%3C/svg%3E") 16 16, auto;
        }

        /* Magical Background */
        .magic-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .magic-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--primary-pink);
            border-radius: 50%;
            animation: floatMagic 15s infinite linear;
            opacity: 0.3;
        }

        @keyframes floatMagic {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg) scale(0.5);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100px) translateX(100px) rotate(360deg) scale(0.5);
                opacity: 0;
            }
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff69b4 0%, #da70d6 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 1s ease-out, transform 1s ease-out;
        }

        .birthday-text {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5rem;
            color: white;
            text-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
            margin-bottom: 40px;
            animation: heartbeat 1.8s infinite;
            background: linear-gradient(45deg, #ffffff, #ffd6e7);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.05); }
            50% { transform: scale(1.03); }
            75% { transform: scale(1.07); }
        }

        .loading-bar {
            width: 400px;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .loading-progress {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #ffffff, #ffd6e7);
            border-radius: 10px;
            animation: loading 2.5s ease-out forwards;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        @keyframes loading {
            to { width: 100%; }
        }

        /* Container */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Stage Containers */
        .stage {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            width: 100%;
            opacity: 0;
            transform: translateY(30px);
            transition: var(--transition-smooth);
        }

        .stage.active {
            display: flex;
            opacity: 1;
            transform: translateY(0);
        }

        /* Elegant Stage Titles */
        .stage-title {
            font-family: 'Dancing Script', cursive;
            color: var(--primary-pink);
            font-size: clamp(3rem, 6vw, 4.5rem);
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            padding-bottom: 25px;
            animation: titleFloat 8s ease-in-out infinite;
        }

        @keyframes titleFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .stage-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 4px;
            background: linear-gradient(90deg, transparent, var(--primary-pink), transparent);
            animation: lineWidth 4s ease-in-out infinite;
        }

        @keyframes lineWidth {
            0%, 100% { width: 150px; opacity: 1; }
            50% { width: 200px; opacity: 0.8; }
        }

        body.night-mode .stage-title {
            color: var(--accent-gold);
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
        }

        /* Birthday Countdown */
        .countdown-container {
            background: rgba(255, 255, 255, 0.92);
            padding: 40px 50px;
            border-radius: 30px;
            box-shadow: 0 25px 50px rgba(255, 105, 180, 0.25);
            backdrop-filter: blur(15px);
            margin: 40px 0;
            border: 3px solid rgba(255, 255, 255, 0.3);
            animation: containerFloat 6s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }

        @keyframes containerFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-15px) rotate(1deg); }
            66% { transform: translateY(-5px) rotate(-1deg); }
        }

        body.night-mode .countdown-container {
            background: rgba(26, 26, 46, 0.92);
            border-color: rgba(255, 215, 0, 0.25);
        }

        .countdown-title {
            font-family: 'Dancing Script', cursive;
            color: var(--primary-pink);
            font-size: 3rem;
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            z-index: 2;
        }

        body.night-mode .countdown-title {
            color: var(--accent-gold);
        }

        .countdown-timer {
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
            position: relative;
            z-index: 2;
        }

        .countdown-unit {
            text-align: center;
            min-width: 120px;
        }

        .countdown-number {
            font-size: 4rem;
            font-weight: bold;
            color: var(--primary-pink);
            background: linear-gradient(135deg, rgba(255, 105, 180, 0.15), rgba(255, 20, 147, 0.15));
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 15px;
            display: inline-block;
            min-width: 110px;
            box-shadow: 
                0 15px 30px rgba(255, 105, 180, 0.2),
                inset 0 5px 15px rgba(255, 255, 255, 0.8);
            animation: pulseGlow 3s infinite;
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
        }

        @keyframes pulseGlow {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 15px 30px rgba(255, 105, 180, 0.2);
            }
            50% { 
                transform: scale(1.05);
                box-shadow: 0 20px 40px rgba(255, 105, 180, 0.4), 0 0 60px rgba(255, 105, 180, 0.3);
            }
        }

        body.night-mode .countdown-number {
            color: var(--accent-gold);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 170, 0, 0.15));
        }

        .countdown-label {
            font-size: 1.2rem;
            color: var(--text-dark);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-top: 10px;
            opacity: 0.9;
        }

        body.night-mode .countdown-label {
            color: var(--text-light);
        }

        /* Birthday Status */
        .birthday-status {
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            color: var(--primary-pink);
            text-align: center;
            margin-top: 25px;
            padding: 15px 40px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            display: inline-block;
            transition: var(--transition-smooth);
            box-shadow: 
                0 15px 35px rgba(255, 105, 180, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 105, 180, 0.2);
        }

        body.night-mode .birthday-status {
            color: var(--accent-gold);
            background: rgba(26, 26, 46, 0.9);
            border-color: rgba(255, 215, 0, 0.2);
        }

        /* Custom Envelope */
        .envelope-wrapper {
            position: relative;
            width: 450px;
            height: 320px;
            cursor: pointer;
            perspective: 1800px;
            margin: 50px 0;
            filter: drop-shadow(0 25px 50px rgba(255, 105, 180, 0.4));
            transition: transform 0.8s ease;
        }

        .envelope-wrapper:hover {
            transform: scale(1.03) rotateY(5deg);
        }

        .envelope {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .envelope-body {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 25px;
            overflow: hidden;
            background: linear-gradient(135deg, var(--primary-pink), var(--secondary-pink));
            box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.1);
        }

        .envelope-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.95;
            transition: transform 1.2s ease;
            filter: brightness(1.1) contrast(1.1);
        }

        .envelope-flap {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 105, 180, 0.95), rgba(255, 20, 147, 0.95));
            clip-path: polygon(0 0, 50% 50%, 100% 0);
            transform-origin: top;
            transition: transform 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 25px 25px 0 0;
            box-shadow: 
                0 -15px 40px rgba(0, 0, 0, 0.3),
                inset 0 5px 15px rgba(255, 255, 255, 0.4);
            z-index: 2;
        }

        .envelope.open .envelope-flap {
            transform: rotateX(-180deg);
        }

        .envelope-seal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, var(--accent-gold), #ffaa00);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            z-index: 10;
            box-shadow: 
                0 15px 40px rgba(255, 215, 0, 0.5),
                inset 0 5px 15px rgba(255, 255, 255, 0.4);
            animation: sealGlow 2.5s infinite alternate;
            cursor: pointer;
            transition: var(--transition-smooth);
            overflow: hidden;
        }

        @keyframes sealGlow {
            from { 
                transform: translate(-50%, -50%) scale(1);
                box-shadow: 
                    0 15px 40px rgba(255, 215, 0, 0.5),
                    inset 0 5px 15px rgba(255, 255, 255, 0.4);
            }
            to { 
                transform: translate(-50%, -50%) scale(1.15);
                box-shadow: 
                    0 20px 50px rgba(255, 215, 0, 0.7),
                    0 0 80px rgba(255, 215, 0, 0.4),
                    inset 0 5px 15px rgba(255, 255, 255, 0.4);
            }
        }

        .envelope-content {
            position: absolute;
            width: 92%;
            height: 88%;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            top: 6%;
            left: 4%;
            padding: 40px;
            opacity: 0;
            transform: translateY(250px) scale(0.85);
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1) 0.6s;
            box-shadow: 
                0 25px 60px rgba(0, 0, 0, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            z-index: 1;
            backdrop-filter: blur(15px);
            overflow: hidden;
        }

        .envelope.open .envelope-content {
            opacity: 1;
            transform: translateY(-280px) scale(1.08);
        }

        .envelope-content h2 {
            font-family: 'Dancing Script', cursive;
            color: var(--primary-pink);
            text-align: center;
            margin-bottom: 20px;
            font-size: 2.5rem;
        }

        .envelope-content p {
            text-align: center;
            color: var(--text-dark);
            font-size: 1.15rem;
            line-height: 1.7;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        /* HEART LEAVES TREE */
        .tree-container {
            position: relative;
            width: 750px;
            height: 750px;
            margin: 50px 0;
        }

        .tree-structure {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
        }

        .tree-trunk {
            width: 90px;
            height: 320px;
            background: linear-gradient(45deg, #8b4513 0%, #a0522d 50%, #8b4513 100%);
            border-radius: 25px;
            box-shadow: 
                0 20px 45px rgba(0, 0, 0, 0.5),
                inset 0 5px 15px rgba(255, 255, 255, 0.2);
            position: relative;
            z-index: 2;
        }

        .heart-leaves {
            position: absolute;
            width: 650px;
            height: 600px;
            bottom: 280px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.2));
        }

        .heart-leaf {
            position: absolute;
            width: 45px;
            height: 45px;
            background: var(--heart-color);
            clip-path: polygon(50% 15%, 80% 0%, 100% 35%, 50% 100%, 0% 35%, 20% 0%);
            transform-origin: center bottom;
            animation: leafFloat 5s infinite ease-in-out;
            cursor: pointer;
            transition: var(--transition-smooth);
            filter: drop-shadow(0 8px 20px rgba(0, 0, 0, 0.25));
        }

        @keyframes leafFloat {
            0%, 100% { 
                transform: translateY(0) rotate(0deg) scale(1);
            }
            25% { 
                transform: translateY(-12px) rotate(3deg) scale(1.05);
            }
            50% { 
                transform: translateY(-8px) rotate(-2deg) scale(0.95);
            }
            75% { 
                transform: translateY(-15px) rotate(5deg) scale(1.1);
            }
        }

        .heart-leaf:hover {
            transform: scale(1.4) rotate(20deg);
            filter: 
                drop-shadow(0 0 30px currentColor)
                brightness(1.2);
            animation: heartPulse 1s infinite alternate;
            z-index: 10;
        }

        @keyframes heartPulse {
            0% { transform: scale(1.3) rotate(20deg); }
            100% { transform: scale(1.5) rotate(25deg); }
        }

        .heart-leaf-red { 
            --heart-color: linear-gradient(135deg, #ff3366, #ff6699); 
            animation-delay: 0s; 
        }
        .heart-leaf-pink { 
            --heart-color: linear-gradient(135deg, #ff69b4, #ff99cc); 
            animation-delay: 0.5s; 
        }
        .heart-leaf-purple { 
            --heart-color: linear-gradient(135deg, #da70d6, #e6a0e6); 
            animation-delay: 1s; 
        }
        .heart-leaf-blue { 
            --heart-color: linear-gradient(135deg, #87ceeb, #b3e0ff); 
            animation-delay: 1.5s; 
        }
        .heart-leaf-gold { 
            --heart-color: linear-gradient(135deg, #ffd700, #ffed99); 
            animation-delay: 2s; 
        }
        .heart-leaf-orange { 
            --heart-color: linear-gradient(135deg, #ff9900, #ffcc66); 
            animation-delay: 2.5s; 
        }
        .heart-leaf-green { 
            --heart-color: linear-gradient(135deg, #2ecc71, #85e0a3); 
            animation-delay: 3s; 
        }
        .heart-leaf-teal { 
            --heart-color: linear-gradient(135deg, #1abc9c, #7fd9c7); 
            animation-delay: 3.5s; 
        }

        /* Tree Title */
        .tree-title {
            position: absolute;
            top: -70px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Dancing Script', cursive;
            color: var(--primary-pink);
            font-size: 3rem;
            text-align: center;
            white-space: nowrap;
            animation: titleFloat 6s infinite ease-in-out;
            text-shadow: 
                0 5px 15px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(255, 105, 180, 0.4);
            padding: 15px 40px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 105, 180, 0.2);
            box-shadow: 0 20px 40px rgba(255, 105, 180, 0.2);
        }

        body.night-mode .tree-title {
            color: var(--accent-gold);
            background: rgba(26, 26, 46, 0.9);
            border-color: rgba(255, 215, 0, 0.2);
        }

        /* Cake with Automatic Cutting */
        .cake-wrapper {
            position: relative;
            margin: 60px 0;
            cursor: pointer;
            animation: gentleFloat 8s ease-in-out infinite;
        }

        @keyframes gentleFloat {
            0%, 100% { 
                transform: translateY(0) rotate(0deg) scale(1);
            }
            25% { 
                transform: translateY(-20px) rotate(2deg) scale(1.02);
            }
            50% { 
                transform: translateY(-10px) rotate(-1deg) scale(0.98);
            }
            75% { 
                transform: translateY(-25px) rotate(3deg) scale(1.03);
            }
        }

        .cake-container {
            width: 380px;
            height: 380px;
            position: relative;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 
                0 35px 70px rgba(255, 105, 180, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
            border: 4px solid rgba(255, 255, 255, 0.7);
            transition: var(--transition-smooth);
        }

        .cake-container:hover {
            transform: scale(1.08);
            box-shadow: 
                0 50px 100px rgba(255, 105, 180, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }

        .cake-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
            filter: brightness(1.1) saturate(1.2);
        }

        .cake-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent 40%, rgba(0, 0, 0, 0.6) 100%);
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 40px;
            opacity: 0;
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .cake-container:hover .cake-overlay {
            opacity: 1;
        }

        .cake-text {
            color: white;
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            text-align: center;
            transform: translateY(30px);
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            text-shadow: 
                0 5px 15px rgba(0, 0, 0, 0.5),
                0 0 20px rgba(255, 105, 180, 0.5);
        }

        .cake-container:hover .cake-text {
            transform: translateY(0);
        }

        .candle {
            position: absolute;
            width: 30px;
            height: 80px;
            background: linear-gradient(180deg, #ffd700, #ffaa00);
            top: -80px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 15px 15px 0 0;
            box-shadow: 
                0 0 30px rgba(255, 215, 0, 0.8),
                inset 0 5px 15px rgba(255, 255, 255, 0.4);
            z-index: 2;
            animation: candleGlow 2s infinite alternate;
        }

        @keyframes candleGlow {
            0%, 100% { 
                box-shadow: 
                    0 0 30px rgba(255, 215, 0, 0.8),
                    inset 0 5px 15px rgba(255, 255, 255, 0.4);
            }
            50% { 
                box-shadow: 
                    0 0 45px rgba(255, 215, 0, 1),
                    inset 0 5px 15px rgba(255, 255, 255, 0.6);
            }
        }

        .flame {
            position: absolute;
            width: 22px;
            height: 35px;
            background: linear-gradient(180deg, #ffff00, #ff4500);
            top: -120px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 50% 50% 20% 20%;
            animation: flicker 0.4s infinite alternate;
            box-shadow: 
                0 0 40px rgba(255, 69, 0, 0.9),
                0 0 80px rgba(255, 140, 0, 0.5);
            z-index: 3;
            transition: var(--transition-smooth);
            filter: blur(1px);
        }

        @keyframes flicker {
            0%, 100% { 
                transform: translateX(-50%) scale(1) rotate(0deg);
                opacity: 1;
            }
            25% { 
                transform: translateX(-50%) scale(1.1) rotate(2deg);
                opacity: 0.9;
            }
            50% { 
                transform: translateX(-50%) scale(0.95) rotate(-2deg);
                opacity: 1;
            }
            75% { 
                transform: translateX(-50%) scale(1.05) rotate(1deg);
                opacity: 0.95;
            }
        }

        /* Cake Cutting Animation */
        .cake-cut {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 4;
            opacity: 0;
            background: linear-gradient(90deg, transparent 45%, rgba(255, 255, 255, 0.8) 50%, transparent 55%);
        }

        .cake-cut.active {
            animation: cutAnimation 2.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes cutAnimation {
            0% {
                opacity: 0;
                transform: translateX(0);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateX(120px);
            }
        }

        /* Custom Gallery */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin: 60px 0;
            max-width: 1100px;
            padding: 0 30px;
            width: 100%;
        }

        .gallery-item {
            position: relative;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 
                0 30px 60px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            transition: var(--transition-smooth);
            cursor: pointer;
            aspect-ratio: 3/4;
            background: var(--soft-white);
        }

        .gallery-item:hover {
            transform: translateY(-25px) scale(1.05);
            box-shadow: 
                0 50px 100px rgba(0, 0, 0, 0.3),
                0 0 50px rgba(255, 105, 180, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        .gallery-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .gallery-item:hover .gallery-img {
            transform: scale(1.15);
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.85), transparent);
            color: white;
            padding: 35px 25px 25px;
            transform: translateY(100%);
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }

        /* Final Message Page */
        .final-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9000;
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 1.5s ease;
        }

        .final-page.active {
            display: flex;
            opacity: 1;
        }

        .final-container {
            width: 100%;
            max-width: 900px;
            padding: 40px;
            position: relative;
            z-index: 2;
        }

        .message-box {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(255, 240, 245, 0.98));
            padding: 60px;
            border-radius: 35px;
            box-shadow: 
                0 35px 70px rgba(255, 105, 180, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(20px);
            border: 3px solid rgba(255, 255, 255, 0.6);
            position: relative;
            overflow: hidden;
            transition: var(--transition-smooth);
        }

        .message-box:hover {
            transform: translateY(-10px);
            box-shadow: 
                0 50px 100px rgba(255, 105, 180, 0.3),
                0 0 60px rgba(255, 105, 180, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }

        body.night-mode .message-box {
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.98), rgba(30, 30, 60, 0.98));
            border-color: rgba(255, 215, 0, 0.25);
        }

        .typing-text {
            font-family: 'Georgia', serif;
            font-size: 1.4rem;
            line-height: 1.9;
            min-height: 350px;
            color: var(--text-dark);
            white-space: pre-wrap;
            overflow-wrap: break-word;
            opacity: 0.95;
        }

        body.night-mode .typing-text {
            color: var(--text-light);
        }

        .cursor {
            display: inline-block;
            width: 4px;
            height: 1.5em;
            background: linear-gradient(180deg, var(--primary-pink), var(--secondary-pink));
            margin-left: 3px;
            animation: blink 0.7s infinite;
            vertical-align: middle;
            border-radius: 2px;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; transform: scaleY(1); }
            51%, 100% { opacity: 0.3; transform: scaleY(0.5); }
        }

        /* Back to Start Button */
        .back-to-start {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10000;
            display: none;
        }

        .back-btn {
            padding: 15px 40px;
            background: linear-gradient(135deg, var(--primary-pink), var(--secondary-pink));
            border: none;
            border-radius: 50px;
            color: white;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition-smooth);
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 
                0 15px 35px rgba(255, 105, 180, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        .back-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 
                0 20px 40px rgba(255, 105, 180, 0.5),
                0 0 60px rgba(255, 105, 180, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
        }

        /* Controls */
        .controls {
            position: fixed;
            top: 35px;
            right: 35px;
            display: flex;
            gap: 20px;
            z-index: 1000;
        }

        .control-btn {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.25);
            border: 2px solid rgba(255, 255, 255, 0.35);
            color: var(--primary-pink);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition-smooth);
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(15px);
            box-shadow: 
                0 15px 30px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }

        .control-btn:hover {
            background: white;
            transform: scale(1.2);
            box-shadow: 
                0 20px 40px rgba(255, 105, 180, 0.4),
                0 0 30px rgba(255, 105, 180, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
            color: var(--secondary-pink);
        }

        .control-btn.active {
            background: white;
            color: var(--secondary-pink);
            transform: scale(1.15);
            animation: controlPulse 2s infinite;
        }

        @keyframes controlPulse {
            0%, 100% { transform: scale(1.15); }
            50% { transform: scale(1.25); }
        }

        /* Navigation Dots */
        .nav-dots {
            position: fixed;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 25px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.15);
            padding: 20px 45px;
            border-radius: 60px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.25);
            box-shadow: 
                0 15px 35px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 105, 180, 0.35);
            cursor: pointer;
            transition: var(--transition-smooth);
            border: 2px solid transparent;
        }

        .dot:hover {
            transform: scale(1.8);
            background: var(--primary-pink);
        }

        .dot.active {
            background: var(--primary-pink);
            transform: scale(1.8);
            box-shadow: 
                0 0 25px var(--primary-pink),
                0 0 50px rgba(255, 105, 180, 0.5);
            border-color: white;
        }

        .dot.final {
            background: var(--accent-gold);
        }

        .dot.final:hover {
            background: var(--accent-gold);
        }

        .dot.final.active {
            background: var(--accent-gold);
            box-shadow: 
                0 0 25px var(--accent-gold),
                0 0 50px rgba(255, 215, 0, 0.5);
        }

        /* Day/Night Toggle */
        .day-night-toggle {
            position: fixed;
            top: 35px;
            left: 35px;
            z-index: 1000;
        }

        .toggle-btn {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.25);
            border: 2px solid rgba(255, 255, 255, 0.35);
            color: var(--primary-pink);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition-smooth);
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(15px);
            box-shadow: 
                0 15px 30px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }

        .toggle-btn:hover {
            background: white;
            transform: scale(1.2);
            box-shadow: 
                0 20px 40px rgba(255, 105, 180, 0.4),
                0 0 30px rgba(255, 105, 180, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
            color: var(--secondary-pink);
        }

        /* Instruction Text */
        .instruction {
            color: var(--primary-pink);
            font-size: 1.2rem;
            margin-top: 35px;
            text-align: center;
            max-width: 600px;
            padding: 0 30px;
            font-weight: 500;
            opacity: 0.9;
            animation: gentlePulse 4s infinite;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px 30px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 105, 180, 0.2);
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.1);
        }

        body.night-mode .instruction {
            color: var(--accent-gold);
            background: rgba(26, 26, 46, 0.9);
            border-color: rgba(255, 215, 0, 0.2);
        }

        @keyframes gentlePulse {
            0%, 100% { 
                opacity: 0.85;
                transform: translateY(0);
            }
            50% { 
                opacity: 1;
                transform: translateY(-5px);
            }
        }

        /* Magic Sparkles */
        .magic-sparkles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: sparklePop 1.5s ease-out forwards;
            box-shadow: 
                0 0 20px white, 
                0 0 40px var(--primary-pink);
        }

        @keyframes sparklePop {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.5) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .tree-container {
                width: 600px;
                height: 600px;
            }
            
            .heart-leaves {
                width: 520px;
                height: 480px;
                bottom: 220px;
            }
            
            .heart-leaf {
                width: 35px;
                height: 35px;
            }
        }

        @media (max-width: 768px) {
            .birthday-text {
                font-size: 3.5rem;
            }
            
            .loading-bar {
                width: 300px;
            }
            
            .stage-title {
                font-size: 2.8rem;
                margin-bottom: 40px;
            }
            
            .envelope-wrapper {
                width: 350px;
                height: 250px;
            }
            
            .countdown-container {
                padding: 30px;
                width: 95%;
            }
            
            .countdown-number {
                font-size: 3rem;
                min-width: 90px;
                padding: 15px;
            }
            
            .countdown-unit {
                min-width: 90px;
            }
            
            .tree-container {
                width: 450px;
                height: 500px;
            }
            
            .heart-leaves {
                width: 400px;
                height: 350px;
                bottom: 200px;
            }
            
            .heart-leaf {
                width: 28px;
                height: 28px;
            }
            
            .tree-title {
                font-size: 2.2rem;
                top: -50px;
                padding: 12px 30px;
            }
            
            .cake-container {
                width: 300px;
                height: 300px;
            }
            
            .gallery {
                grid-template-columns: 1fr;
                max-width: 400px;
            }
            
            .final-container {
                padding: 20px;
            }
            
            .message-box {
                padding: 40px 30px;
                margin: 30px 20px;
            }
            
            .controls, .day-night-toggle {
                top: 25px;
                right: 25px;
            }
            
            .day-night-toggle {
                left: 25px;
            }
            
            .nav-dots {
                bottom: 30px;
                padding: 15px 30px;
                gap: 20px;
            }
            
            .control-btn, .toggle-btn {
                width: 55px;
                height: 55px;
                font-size: 1.3rem;
            }
        }

        @media (max-width: 480px) {
            .stage-title {
                font-size: 2.5rem;
                margin-bottom: 40px;
            }
            
            .birthday-text {
                font-size: 2.8rem;
            }
            
            .envelope-wrapper {
                width: 300px;
                height: 210px;
            }
            
            .countdown-number {
                font-size: 2.5rem;
                min-width: 70px;
                padding: 12px;
            }
            
            .countdown-unit {
                min-width: 70px;
            }
            
            .tree-container {
                width: 320px;
                height: 400px;
            }
            
            .heart-leaves {
                width: 280px;
                height: 280px;
                bottom: 160px;
            }
            
            .heart-leaf {
                width: 22px;
                height: 22px;
            }
            
            .cake-container {
                width: 260px;
                height: 260px;
            }
            
            .gallery {
                gap: 20px;
            }
            
            .message-box {
                padding: 30px 20px;
            }
            
            .typing-text {
                font-size: 1.2rem;
            }
            
            .birthday-status {
                font-size: 1.8rem;
                padding: 12px 25px;
            }
            
            .instruction {
                font-size: 1.1rem;
                padding: 12px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Background Music -->
    <audio id="background-music" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <!-- Background Effects -->
    <div class="magic-background" id="magic-background"></div>
    <div class="magic-sparkles" id="magic-sparkles"></div>

    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="birthday-text">Happy Birthday Lakshita! üíñ</div>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
        <p style="color: white; margin-top: 30px; font-family: 'Dancing Script', cursive; font-size: 1.4rem; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">
            Creating magical moments just for you...
        </p>
    </div>

    <!-- Main Content -->
    <div class="container">
        <!-- Stage 1: Birthday Countdown -->
        <div id="stage-1" class="stage active">
            <h2 class="stage-title">Birthday Countdown üéâ</h2>
            
            <div class="countdown-container">
                <div class="countdown-title">Counting down to December 18th!</div>
                <div class="countdown-timer">
                    <div class="countdown-unit">
                        <div class="countdown-number" id="days">00</div>
                        <div class="countdown-label">Days</div>
                    </div>
                    <div class="countdown-unit">
                        <div class="countdown-number" id="hours">00</div>
                        <div class="countdown-label">Hours</div>
                    </div>
                    <div class="countdown-unit">
                        <div class="countdown-number" id="minutes">00</div>
                        <div class="countdown-label">Minutes</div>
                    </div>
                    <div class="countdown-unit">
                        <div class="countdown-number" id="seconds">00</div>
                        <div class="countdown-label">Seconds</div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 30px;">
                    <div class="birthday-status" id="birthday-status"></div>
                </div>
            </div>
            
            <p class="instruction">Get ready to celebrate Lakshita's special day! üéÇ</p>
        </div>

        <!-- Stage 2: Envelope -->
        <div id="stage-2" class="stage">
            <h2 class="stage-title">Your Birthday Invitation üíå</h2>
            <div class="envelope-wrapper">
                <div class="envelope">
                    <div class="envelope-body">
                        <img src="https://images.unsplash.com/photo-1530026405188-8e6cb5f6d0f6?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Beautiful Birthday Envelope" class="envelope-img">
                    </div>
                    <div class="envelope-flap"></div>
                    <div class="envelope-seal">üíù</div>
                    <div class="envelope-content">
                        <h2>Dearest Lakshita,</h2>
                        <p>On this beautiful day, I've prepared something very special just for you. Every moment has been crafted with love and care for the amazing person you are!</p>
                        <p style="margin-top: 15px; font-style: italic; color: var(--primary-pink);">
                            Click the golden seal to open your birthday surprise! üíñ
                        </p>
                    </div>
                </div>
            </div>
            <p class="instruction">Click the golden seal to open your birthday invitation</p>
        </div>

        <!-- Stage 3: HEART LEAVES TREE -->
        <div id="stage-3" class="stage">
            <h2 class="stage-title">Your Sakura HeartTree üíñ</h2>
            <div class="tree-container">
                <div class="tree-title">"Your Sakura HeartTree is blooming..."</div>
                
                <div class="tree-structure">
                    <div class="tree-trunk"></div>
                </div>
                
                <!-- Heart Leaves Container -->
                <div class="heart-leaves" id="heart-leaves"></div>
            </div>
            <p class="instruction">Click on the heart leaves to discover special birthday messages! üíï</p>
        </div>

        <!-- Stage 4: Cake Celebration -->
        <div id="stage-4" class="stage">
            <h2 class="stage-title">Make a Wish! üéÇ</h2>
            <div class="cake-wrapper">
                <div class="cake-container" id="cake-container">
                    <img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Beautiful Birthday Cake" class="cake-img" id="cake-img">
                    <div class="cake-overlay">
                        <div class="cake-text">Click to Cut the Cake! ‚ú®</div>
                    </div>
                    <div class="candle" id="candle"></div>
                    <div class="flame" id="flame"></div>
                    <div class="cake-cut" id="cake-cut"></div>
                </div>
            </div>
            <p class="instruction">Click on the cake to cut it and celebrate!</p>
        </div>

        <!-- Stage 5: Memory Gallery -->
        <div id="stage-5" class="stage">
            <h2 class="stage-title">Beautiful Memories üì∏</h2>
            <div class="gallery">
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1511988617509-a57c8a288659?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Beautiful Memory 1" class="gallery-img">
                    <div class="gallery-overlay">Lakshita's Precious Moments üíï</div>
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Beautiful Memory 2" class="gallery-img">
                    <div class="gallery-overlay">Special Times ‚ú®</div>
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1511988617509-a57c8a288659?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Beautiful Memory 3" class="gallery-img">
                    <div class="gallery-overlay">Cherished Memories üå∏</div>
                </div>
            </div>
            <p class="instruction">Hover over the photos to see them come to life!</p>
        </div>
    </div>

    <!-- Final Message Page (Permanent) -->
    <div id="final-page" class="final-page">
        <div class="final-container">
            <div class="message-box">
                <div class="typing-text" id="typing-text"></div>
                <div class="cursor"></div>
            </div>
        </div>
    </div>

    <!-- Back to Start Button -->
    <div class="back-to-start" id="back-to-start">
        <button class="back-btn" id="back-btn">
            <i class="fas fa-star"></i> Back to Start
        </button>
    </div>

    <!-- Day/Night Toggle -->
    <div class="day-night-toggle">
        <button class="toggle-btn">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <!-- Controls -->
    <div class="controls">
        <button class="control-btn active" id="music-toggle">
            <i class="fas fa-volume-up"></i>
        </button>
        <button class="control-btn" id="magic-btn">
            <i class="fas fa-magic"></i>
        </button>
    </div>

    <!-- Navigation Dots -->
    <div class="nav-dots">
        <div class="dot active" data-stage="1"></div>
        <div class="dot" data-stage="2"></div>
        <div class="dot" data-stage="3"></div>
        <div class="dot" data-stage="4"></div>
        <div class="dot" data-stage="5"></div>
        <div class="dot final" data-stage="final">üíù</div>
    </div>

    <script>
        // Simplified and working version
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Website loaded successfully!");
            
            // Initialize variables
            let currentStage = 1;
            let isMusicPlaying = false;
            let cakeCut = false;
            
            // Create magic particles
            function createMagicParticles() {
                const container = document.getElementById('magic-background');
                if (!container) return;
                
                for (let i = 0; i < 30; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'magic-particle';
                    particle.style.left = `${Math.random() * 100}%`;
                    particle.style.top = `${Math.random() * 100}%`;
                    particle.style.animationDelay = `${Math.random() * 15}s`;
                    particle.style.animationDuration = `${15 + Math.random() * 10}s`;
                    
                    const colors = ['#ff69b4', '#ff1493', '#da70d6', '#87ceeb', '#ffd700'];
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    
                    container.appendChild(particle);
                }
            }
            
            // Create sparkle effects
            function createSparkles(x, y) {
                const container = document.getElementById('magic-sparkles');
                if (!container) return;
                
                for (let i = 0; i < 8; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = `${x + (Math.random() - 0.5) * 80}px`;
                    sparkle.style.top = `${y + (Math.random() - 0.5) * 80}px`;
                    
                    container.appendChild(sparkle);
                    
                    setTimeout(() => {
                        sparkle.remove();
                    }, 1500);
                }
            }
            
            // Add sparkle effect on clicks
            document.addEventListener('click', function(e) {
                createSparkles(e.clientX, e.clientY);
            });
            
            // Background Music
            const backgroundMusic = document.getElementById('background-music');
            backgroundMusic.volume = 0.3;
            
            // Music toggle button
            const musicBtn = document.getElementById('music-toggle');
            musicBtn.addEventListener('click', function(e) {
                if (isMusicPlaying) {
                    backgroundMusic.pause();
                    isMusicPlaying = false;
                    this.innerHTML = '<i class="fas fa-volume-mute"></i>';
                    this.classList.remove('active');
                } else {
                    backgroundMusic.play().then(() => {
                        isMusicPlaying = true;
                        this.innerHTML = '<i class="fas fa-volume-up"></i>';
                        this.classList.add('active');
                    }).catch(err => {
                        console.log("Music play error:", err);
                    });
                }
                createSparkles(e.clientX, e.clientY);
            });
            
            // Magic button
            document.getElementById('magic-btn').addEventListener('click', function(e) {
                createSparkles(e.clientX, e.clientY);
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        createSparkles(
                            Math.random() * window.innerWidth,
                            Math.random() * window.innerHeight
                        );
                    }, i * 200);
                }
            });
            
            // BIRTHDAY COUNTDOWN
            function updateCountdown() {
                const now = new Date();
                const currentYear = now.getFullYear();
                
                // Set birthday to December 18th of current year
                let birthday = new Date(currentYear, 11, 18);
                
                // If birthday has already passed this year, set to next year
                if (now > birthday) {
                    birthday = new Date(currentYear + 1, 11, 18);
                }
                
                const diff = birthday - now;
                
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                document.getElementById('days').textContent = days.toString().padStart(2, '0');
                document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
                document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
                document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
                
                // Update birthday status
                const statusElement = document.getElementById('birthday-status');
                if (days === 0 && hours === 0 && minutes === 0 && seconds === 0) {
                    statusElement.textContent = "üéâ HAPPY BIRTHDAY LAKSHITA! üéâ";
                    statusElement.style.animation = 'heartbeat 1s infinite';
                    showFinalPage();
                } else if (days === 1) {
                    statusElement.textContent = "üéÅ Birthday is tomorrow! Get ready!";
                } else if (days < 7) {
                    statusElement.textContent = `‚ú® Only ${days} days to go! Exciting!`;
                } else if (days < 30) {
                    statusElement.textContent = `üéÇ ${days} days until the big day!`;
                } else {
                    statusElement.textContent = `‚è≥ Counting down to December 18th!`;
                }
            }
            
            // Update countdown every second
            setInterval(updateCountdown, 1000);
            updateCountdown();
            
            // Hide loading screen
            setTimeout(() => {
                const loadingScreen = document.getElementById('loading-screen');
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    createMagicParticles();
                }, 1000);
            }, 3000);
            
            // Stage Navigation
            const stages = document.querySelectorAll('.stage');
            const dots = document.querySelectorAll('.dot');
            
            function navigateToStage(stageNumber) {
                if (stageNumber === currentStage) return;
                
                if (stageNumber === 'final') {
                    showFinalPage();
                    return;
                }
                
                // Hide back button
                document.getElementById('back-to-start').style.display = 'none';
                
                // Hide final page
                document.getElementById('final-page').classList.remove('active');
                
                // Smooth transition out
                stages.forEach(stage => {
                    if (stage.classList.contains('active')) {
                        stage.style.opacity = '0';
                        stage.style.transform = 'translateY(30px) scale(0.95)';
                        setTimeout(() => {
                            stage.classList.remove('active');
                        }, 400);
                    }
                });
                
                // Smooth transition in
                setTimeout(() => {
                    const targetStage = document.getElementById(`stage-${stageNumber}`);
                    if (targetStage) {
                        targetStage.classList.add('active');
                        setTimeout(() => {
                            targetStage.style.opacity = '1';
                            targetStage.style.transform = 'translateY(0) scale(1)';
                        }, 50);
                        
                        // Update navigation dots
                        dots.forEach((dot, index) => {
                            if (index === stageNumber - 1) {
                                dot.classList.add('active');
                            } else {
                                dot.classList.remove('active');
                            }
                        });
                        
                        // Special dot for final page
                        dots[5].classList.remove('active');
                        
                        currentStage = stageNumber;
                        
                        // Special initialization for each stage
                        switch(stageNumber) {
                            case 3:
                                createHeartLeavesTree();
                                break;
                            case 4:
                                initCakeStage();
                                break;
                        }
                    }
                }, 450);
            }
            
            // Show final page (permanent)
            function showFinalPage() {
                console.log("Showing final page");
                
                // Hide all stages
                stages.forEach(stage => {
                    stage.classList.remove('active');
                    stage.style.opacity = '0';
                });
                
                // Update dots
                dots.forEach(dot => dot.classList.remove('active'));
                dots[5].classList.add('active');
                
                // Show final page
                const finalPage = document.getElementById('final-page');
                finalPage.classList.add('active');
                setTimeout(() => {
                    finalPage.style.opacity = '1';
                }, 50);
                
                // Show back button
                document.getElementById('back-to-start').style.display = 'block';
                
                // Start typing effect
                startTypingEffect();
            }
            
            // Navigation dots click
            dots.forEach((dot, index) => {
                dot.addEventListener('click', (e) => {
                    createSparkles(e.clientX, e.clientY);
                    if (index === 5) {
                        showFinalPage();
                    } else {
                        navigateToStage(index + 1);
                    }
                });
            });
            
            // Back to start button
            document.getElementById('back-btn').addEventListener('click', function(e) {
                createSparkles(e.clientX, e.clientY);
                navigateToStage(1);
            });
            
            // Stage 2: Envelope click
            const envelopeSeal = document.querySelector('.envelope-seal');
            if (envelopeSeal) {
                envelopeSeal.addEventListener('click', function(e) {
                    createSparkles(e.clientX, e.clientY);
                    const envelope = document.querySelector('.envelope');
                    if (!envelope.classList.contains('open')) {
                        envelope.classList.add('open');
                        
                        // Move to next stage after delay
                        setTimeout(() => {
                            navigateToStage(3);
                        }, 3000);
                    }
                });
            }
            
            // Stage 4: Cake Stage
            function initCakeStage() {
                const cakeContainer = document.getElementById('cake-container');
                const flame = document.getElementById('flame');
                const cakeCutElement = document.getElementById('cake-cut');
                
                // Reset cake state
                cakeCut = false;
                cakeContainer.style.transform = 'scale(1)';
                flame.style.animation = 'flicker 0.4s infinite alternate';
                flame.style.opacity = '1';
                cakeCutElement.classList.remove('active');
                
                // Cake click event
                cakeContainer.addEventListener('click', function(e) {
                    if (!cakeCut) {
                        createSparkles(e.clientX, e.clientY);
                        cutCake();
                        cakeCut = true;
                    }
                });
            }
            
            function cutCake() {
                const cakeContainer = document.getElementById('cake-container');
                const cakeImg = document.getElementById('cake-img');
                const flame = document.getElementById('flame');
                const cakeCutElement = document.getElementById('cake-cut');
                
                // Blow out candle
                flame.style.animation = 'none';
                flame.style.opacity = '0';
                flame.style.transform = 'translateX(-50%) scale(0.3)';
                
                // Cake cutting animation
                cakeCutElement.classList.add('active');
                
                // Cake image animation
                cakeImg.style.transform = 'scale(1.15) rotate(8deg)';
                cakeContainer.style.transform = 'scale(1.08)';
                
                // Move to next stage after delay
                setTimeout(() => {
                    navigateToStage(5);
                }, 2500);
            }
            
            // Stage 3: Create Heart Leaves Tree
            function createHeartLeavesTree() {
                const heartLeavesContainer = document.getElementById('heart-leaves');
                if (!heartLeavesContainer) return;
                
                heartLeavesContainer.innerHTML = '';
                
                const leafClasses = [
                    'heart-leaf-red', 'heart-leaf-pink', 'heart-leaf-purple', 
                    'heart-leaf-blue', 'heart-leaf-gold', 'heart-leaf-orange',
                    'heart-leaf-green', 'heart-leaf-teal'
                ];
                
                const messages = [
                    "You shine brighter than stars! ‚≠ê",
                    "Your smile lights up the world! üòä",
                    "May all your dreams come true! ‚ú®",
                    "Stay as amazing as you are! üåü",
                    "Wishing you endless happiness! üíñ",
                    "You're one in a million! üå∏"
                ];
                
                // Create heart leaves
                const totalLeaves = 100;
                
                for (let i = 0; i < totalLeaves; i++) {
                    const leaf = document.createElement('div');
                    leaf.className = 'heart-leaf';
                    
                    // Random color class
                    const colorClass = leafClasses[Math.floor(Math.random() * leafClasses.length)];
                    leaf.classList.add(colorClass);
                    
                    // Random position
                    const x = Math.random() * 650 - 325;
                    const y = Math.random() * 500 - 250;
                    
                    leaf.style.left = `calc(50% + ${x}px)`;
                    leaf.style.top = `calc(50% + ${y}px)`;
                    
                    // Random rotation
                    const rotation = Math.random() * 360;
                    leaf.style.transform = `rotate(${rotation}deg)`;
                    
                    // Random animation delay
                    leaf.style.animationDelay = `${Math.random() * 5}s`;
                    
                    // Random size
                    const size = 0.7 + Math.random() * 0.8;
                    leaf.style.width = `${45 * size}px`;
                    leaf.style.height = `${45 * size}px`;
                    
                    // Click event
                    leaf.addEventListener('click', function(e) {
                        createSparkles(e.clientX, e.clientY);
                        const msgIndex = Math.floor(Math.random() * messages.length);
                        alert(messages[msgIndex]);
                        
                        // Animation on click
                        this.style.transform = `scale(1.6) rotate(${rotation + 60}deg)`;
                        this.style.filter = 'drop-shadow(0 0 40px currentColor) brightness(1.3)';
                        this.style.zIndex = '100';
                        
                        setTimeout(() => {
                            this.style.transform = `rotate(${rotation}deg) scale(${size})`;
                            this.style.filter = 'drop-shadow(0 8px 25px rgba(0, 0, 0, 0.3))';
                            this.style.zIndex = '1';
                        }, 1000);
                    });
                    
                    heartLeavesContainer.appendChild(leaf);
                }
            }
            
            // Stage 5: Gallery interactions
            const galleryItems = document.querySelectorAll('.gallery-item');
            galleryItems.forEach((item, index) => {
                item.addEventListener('click', function(e) {
                    createSparkles(e.clientX, e.clientY);
                    const messages = [
                        "Beautiful memory of Lakshita! üíï",
                        "Precious moment captured forever! üì∏",
                        "Lakshita makes every moment special! ‚ú®",
                        "A memory to cherish forever! üåü"
                    ];
                    alert(messages[index % messages.length]);
                });
            });
            
            // Typing effect for final page
            function startTypingEffect() {
                const typingText = document.getElementById('typing-text');
                if (!typingText) return;
                
                const message = `To My Dearest Lakshita,

Happy Birthday to the most wonderful person I know! üéâüéÇ

On this special day, I want you to know how much you mean to me. 
Your smile brightens up the darkest days, and your laughter is the most beautiful melody.

May this year bring you endless happiness, success in all your endeavors, 
and love that grows stronger every day. You deserve all the love and 
happiness in the world.

Wishing you the most amazing birthday ever!

With all my love and warmest wishes,
Your Secret Admirer üíù`;

                typingText.textContent = '';
                let i = 0;
                
                function typeWriter() {
                    if (i < message.length) {
                        typingText.textContent += message.charAt(i);
                        i++;
                        setTimeout(typeWriter, 30);
                    }
                }
                
                // Start typing after a brief pause
                setTimeout(typeWriter, 800);
            }
            
            // Day/Night mode toggle
            const toggleBtn = document.querySelector('.toggle-btn');
            if (toggleBtn) {
                toggleBtn.addEventListener('click', function(e) {
                    createSparkles(e.clientX, e.clientY);
                    document.body.classList.toggle('night-mode');
                    const icon = this.querySelector('i');
                    if (document.body.classList.contains('night-mode')) {
                        icon.className = 'fas fa-sun';
                        icon.style.color = '#ffd700';
                    } else {
                        icon.className = 'fas fa-moon';
                        icon.style.color = '#ff69b4';
                    }
                });
            }
            
            // Initialize
            createMagicParticles();
            
            // Auto-advance through stages (every 30 seconds)
            setInterval(() => {
                if (currentStage < 5) {
                    navigateToStage(currentStage + 1);
                }
            }, 30000);
        });
    </script>
</body>
</html>
