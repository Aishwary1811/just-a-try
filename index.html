<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Lakshmi üíñ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-pink: #ff69b4;
            --secondary-pink: #ff1493;
            --accent-purple: #da70d6;
            --accent-blue: #87ceeb;
            --accent-gold: #ffd700;
            --soft-white: #fffafa;
            --light-bg: linear-gradient(135deg, #fff0f5 0%, #f8f8ff 50%, #fff0f5 100%);
            --dark-bg: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            --text-dark: #4a4a4a;
            --text-light: #f5f5f5;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--light-bg);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            transition: all 0.8s ease;
        }

        body.night-mode {
            background: var(--dark-bg);
        }

        /* Animated Background Particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            background: var(--primary-pink);
            border-radius: 50%;
            animation: float 15s infinite linear;
            opacity: 0.3;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-100px) rotate(180deg); }
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff69b4 0%, #da70d6 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 0.8s ease-out;
        }

        .birthday-text {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            color: white;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            animation: heartbeat 2s infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .loading-bar {
            width: 300px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        .loading-progress {
            width: 0%;
            height: 100%;
            background: white;
            border-radius: 10px;
            animation: loading 3s ease-out forwards;
        }

        @keyframes loading {
            to { width: 100%; }
        }

        /* Container */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Stage Containers */
        .stage {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            width: 100%;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .stage.active {
            display: flex;
            opacity: 1;
            transform: translateY(0);
        }

        /* Elegant Stage Titles */
        .stage-title {
            font-family: 'Dancing Script', cursive;
            color: var(--primary-pink);
            font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: 40px;
            text-align: center;
            position: relative;
            padding-bottom: 20px;
        }

        .stage-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--primary-pink), transparent);
        }

        body.night-mode .stage-title {
            color: var(--accent-gold);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        /* Custom Envelope with Your Image */
        .envelope-wrapper {
            position: relative;
            width: 400px;
            height: 280px;
            cursor: pointer;
            perspective: 1500px;
            margin: 40px 0;
            filter: drop-shadow(0 20px 40px rgba(255, 105, 180, 0.3));
        }

        .envelope {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .envelope-body {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 20px;
            overflow: hidden;
            background: linear-gradient(135deg, var(--primary-pink), var(--secondary-pink));
        }

        .envelope-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.9;
            transition: transform 1s ease;
        }

        .envelope-flap {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 105, 180, 0.9), rgba(255, 20, 147, 0.9));
            clip-path: polygon(0 0, 50% 50%, 100% 0);
            transform-origin: top;
            transition: transform 1.2s ease;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.2);
            z-index: 2;
        }

        .envelope.open .envelope-flap {
            transform: rotateX(-180deg);
        }

        .envelope-seal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--accent-gold), #ffaa00);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            z-index: 10;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
            animation: sealGlow 2s infinite alternate;
            cursor: pointer;
        }

        @keyframes sealGlow {
            from { box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4); }
            to { box-shadow: 0 10px 40px rgba(255, 215, 0, 0.6), 0 0 60px rgba(255, 215, 0, 0.3); }
        }

        .envelope-content {
            position: absolute;
            width: 90%;
            height: 85%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            top: 7.5%;
            left: 5%;
            padding: 30px;
            opacity: 0;
            transform: translateY(200px) scale(0.8);
            transition: all 1s cubic-bezier(0.68, -0.55, 0.27, 1.55) 0.5s;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            z-index: 1;
            backdrop-filter: blur(10px);
        }

        .envelope.open .envelope-content {
            opacity: 1;
            transform: translateY(-250px) scale(1.05);
        }

        .envelope-content h2 {
            font-family: 'Dancing Script', cursive;
            color: var(--primary-pink);
            text-align: center;
            margin-bottom: 15px;
            font-size: 2.2rem;
        }

        .envelope-content p {
            text-align: center;
            color: var(--text-dark);
            font-size: 1.1rem;
            line-height: 1.6;
            opacity: 0.8;
        }

        /* Enhanced Heart Tree with Multiple Branches */
        .tree-container {
            position: relative;
            width: 600px;
            height: 600px;
            margin: 40px 0;
        }

        .tree {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
        }

        .tree-trunk {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 250px;
            background: linear-gradient(45deg, #8b4513 0%, #a0522d 50%, #8b4513 100%);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            z-index: 1;
        }

        .main-branch {
            position: absolute;
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            border-radius: 20px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
            z-index: 0;
        }

        .branch-1 {
            width: 400px;
            height: 150px;
            top: 150px;
            left: 100px;
            transform: rotate(-5deg);
            clip-path: polygon(0% 50%, 100% 0%, 100% 100%, 0% 100%);
        }

        .branch-2 {
            width: 380px;
            height: 140px;
            top: 120px;
            left: 110px;
            transform: rotate(5deg);
            clip-path: polygon(0% 0%, 100% 50%, 100% 100%, 0% 100%);
        }

        .branch-3 {
            width: 350px;
            height: 130px;
            top: 80px;
            left: 125px;
            transform: rotate(-8deg);
            clip-path: polygon(0% 30%, 100% 0%, 100% 100%, 0% 100%);
        }

        .branch-4 {
            width: 320px;
            height: 120px;
            top: 50px;
            left: 140px;
            transform: rotate(10deg);
            clip-path: polygon(0% 0%, 100% 20%, 100% 100%, 0% 100%);
        }

        .branch-5 {
            width: 280px;
            height: 100px;
            top: 20px;
            left: 160px;
            transform: rotate(-12deg);
            clip-path: polygon(0% 20%, 100% 0%, 100% 100%, 0% 100%);
        }

        .tree-branches {
            position: absolute;
            width: 500px;
            height: 400px;
            bottom: 200px;
            left: 50px;
            z-index: 0;
        }

        .heart-leaf {
            position: absolute;
            width: 50px;
            height: 50px;
            background: var(--heart-color, var(--primary-pink));
            clip-path: polygon(50% 15%, 100% 40%, 85% 100%, 50% 80%, 15% 100%, 0% 40%);
            opacity: 0;
            transform: scale(0) rotate(0deg);
            animation: heartBloom 1s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
            filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.3));
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            z-index: 3;
        }

        .heart-leaf:hover {
            transform: scale(1.5) rotate(15deg) !important;
            filter: drop-shadow(0 0 30px currentColor);
            z-index: 10;
        }

        @keyframes heartBloom {
            to {
                opacity: 1;
                transform: scale(1) rotate(var(--rotate-angle, 0deg));
            }
        }

        /* Custom Cake with Your Image */
        .cake-wrapper {
            position: relative;
            margin: 50px 0;
            cursor: pointer;
            animation: gentleFloat 6s ease-in-out infinite;
        }

        .cake-container {
            width: 350px;
            height: 350px;
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 30px 60px rgba(255, 105, 180, 0.3);
            border: 3px solid rgba(255, 255, 255, 0.6);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .cake-container:hover {
            transform: scale(1.1);
        }

        .cake-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s ease;
        }

        .cake-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.5) 100%);
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 30px;
            opacity: 0;
            transition: opacity 0.6s ease;
        }

        .cake-container:hover .cake-overlay {
            opacity: 1;
        }

        .cake-text {
            color: white;
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            text-align: center;
            transform: translateY(20px);
            transition: transform 0.6s ease;
        }

        .cake-container:hover .cake-text {
            transform: translateY(0);
        }

        .candle {
            position: absolute;
            width: 25px;
            height: 70px;
            background: linear-gradient(180deg, #ffd700, #ffaa00);
            top: -70px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 12px 12px 0 0;
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
            z-index: 2;
        }

        .flame {
            position: absolute;
            width: 18px;
            height: 30px;
            background: linear-gradient(180deg, #ffff00, #ff4500);
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 50% 50% 20% 20%;
            animation: flicker 0.5s infinite alternate;
            box-shadow: 0 0 35px rgba(255, 69, 0, 0.8);
            z-index: 3;
        }

        @keyframes gentleFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-15px) rotate(1deg); }
            66% { transform: translateY(-5px) rotate(-1deg); }
        }

        @keyframes flicker {
            0%, 100% { transform: translateX(-50%) scale(1); opacity: 1; }
            50% { transform: translateX(-50%) scale(1.1); opacity: 0.9; }
        }

        /* Custom Gallery with Your Photos */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 50px 0;
            max-width: 1000px;
            padding: 0 20px;
            width: 100%;
        }

        .gallery-item {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            cursor: pointer;
            aspect-ratio: 3/4;
            background: var(--soft-white);
        }

        .gallery-item:hover {
            transform: translateY(-20px) scale(1.03);
            box-shadow: 0 40px 80px rgba(0, 0, 0, 0.25);
        }

        .gallery-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s ease;
        }

        .gallery-item:hover .gallery-img {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
            color: white;
            padding: 30px 20px 20px;
            transform: translateY(100%);
            transition: transform 0.6s ease;
            text-align: center;
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }

        /* Message Box */
        .message-container {
            max-width: 800px;
            margin: 40px auto;
            position: relative;
        }

        .message-box {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 240, 245, 0.95));
            padding: 50px;
            border-radius: 30px;
            box-shadow: 0 30px 60px rgba(255, 105, 180, 0.15);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }

        body.night-mode .message-box {
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.95), rgba(30, 30, 60, 0.95));
            border-color: rgba(255, 215, 0, 0.2);
        }

        .message-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-pink), var(--accent-purple), var(--accent-blue));
        }

        .typing-text {
            font-family: 'Georgia', serif;
            font-size: 1.3rem;
            line-height: 1.8;
            min-height: 300px;
            color: var(--text-dark);
            white-space: pre-wrap;
            overflow-wrap: break-word;
        }

        body.night-mode .typing-text {
            color: var(--text-light);
        }

        .cursor {
            display: inline-block;
            width: 3px;
            height: 1.4em;
            background: var(--primary-pink);
            margin-left: 3px;
            animation: blink 0.8s infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Controls */
        .controls {
            position: fixed;
            top: 30px;
            right: 30px;
            display: flex;
            gap: 15px;
            z-index: 1000;
        }

        .control-btn {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: var(--primary-pink);
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .control-btn:hover {
            background: white;
            transform: scale(1.15) rotate(15deg);
            box-shadow: 0 15px 30px rgba(255, 105, 180, 0.3);
            color: var(--secondary-pink);
        }

        /* Navigation Dots */
        .nav-dots {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 35px;
            border-radius: 50px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 105, 180, 0.3);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            border: 2px solid transparent;
        }

        .dot:hover {
            transform: scale(1.5);
            background: var(--primary-pink);
        }

        .dot.active {
            background: var(--primary-pink);
            transform: scale(1.6);
            box-shadow: 0 0 20px var(--primary-pink);
            border-color: white;
        }

        /* Day/Night Toggle */
        .day-night-toggle {
            position: fixed;
            top: 30px;
            left: 30px;
            z-index: 1000;
        }

        .toggle-btn {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: var(--primary-pink);
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .toggle-btn:hover {
            background: white;
            transform: scale(1.15) rotate(15deg);
            box-shadow: 0 15px 30px rgba(255, 105, 180, 0.3);
            color: var(--secondary-pink);
        }

        /* Instruction Text */
        .instruction {
            color: var(--primary-pink);
            font-size: 1.1rem;
            margin-top: 25px;
            text-align: center;
            max-width: 500px;
            padding: 0 20px;
            font-weight: 500;
            opacity: 0.9;
            animation: gentlePulse 3s infinite;
        }

        body.night-mode .instruction {
            color: var(--accent-gold);
        }

        @keyframes gentlePulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        /* Floating Elements */
        .floating-element {
            position: fixed;
            pointer-events: none;
            z-index: 900;
            animation: floatUp 6s linear forwards;
            font-size: 28px;
            opacity: 0;
            filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.2));
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Background Music */
        #background-music {
            display: none;
        }

        /* Heart Leaves Container */
        .heart-leaves {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 5;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .envelope-wrapper {
                width: 320px;
                height: 220px;
            }
            
            .tree-container {
                width: 400px;
                height: 450px;
            }
            
            .branch-1 { width: 280px; height: 110px; top: 120px; left: 60px; }
            .branch-2 { width: 260px; height: 100px; top: 90px; left: 70px; }
            .branch-3 { width: 240px; height: 90px; top: 60px; left: 80px; }
            .branch-4 { width: 220px; height: 80px; top: 30px; left: 90px; }
            .branch-5 { width: 200px; height: 70px; top: 10px; left: 100px; }
            
            .cake-container {
                width: 280px;
                height: 280px;
            }
            
            .gallery {
                grid-template-columns: 1fr;
                max-width: 350px;
            }
            
            .message-box {
                padding: 30px;
                margin: 20px;
            }
            
            .controls, .day-night-toggle {
                top: 20px;
                right: 20px;
            }
            
            .day-night-toggle {
                left: 20px;
            }
            
            .nav-dots {
                bottom: 25px;
                padding: 12px 25px;
            }
            
            .birthday-text {
                font-size: 3rem;
            }
            
            .control-btn, .toggle-btn {
                width: 50px;
                height: 50px;
            }
        }

        @media (max-width: 480px) {
            .stage-title {
                font-size: 2.2rem;
                margin-bottom: 30px;
            }
            
            .envelope-wrapper {
                width: 280px;
                height: 190px;
            }
            
            .tree-container {
                width: 320px;
                height: 380px;
            }
            
            .branch-1 { width: 220px; height: 90px; top: 100px; left: 50px; }
            .branch-2 { width: 200px; height: 80px; top: 70px; left: 60px; }
            .branch-3 { width: 180px; height: 70px; top: 50px; left: 70px; }
            .branch-4 { width: 160px; height: 60px; top: 30px; left: 80px; }
            .branch-5 { width: 140px; height: 50px; top: 15px; left: 90px; }
            
            .cake-container {
                width: 240px;
                height: 240px;
            }
            
            .gallery {
                gap: 15px;
            }
            
            .message-box {
                padding: 25px 20px;
            }
            
            .birthday-text {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Background Music -->
    <audio id="background-music" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <!-- Animated Background Particles -->
    <div class="particles" id="particles"></div>

    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="birthday-text">Happy Birthday Lakshmi!</div>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
        <p style="color: white; margin-top: 20px; font-family: 'Dancing Script', cursive; font-size: 1.2rem;">
            Loading your special surprise...
        </p>
    </div>

    <div class="container">
        <!-- Stage 1: Envelope -->
        <div id="stage-1" class="stage active">
            <h2 class="stage-title">Your Special Invitation üíå</h2>
            <div class="envelope-wrapper">
                <div class="envelope">
                    <div class="envelope-body">
                        <img src="envelope.png" alt="Beautiful Envelope" class="envelope-img">
                    </div>
                    <div class="envelope-flap"></div>
                    <div class="envelope-seal">üíù</div>
                    <div class="envelope-content">
                        <h2>My Dearest Lakshmi</h2>
                        <p>On this beautiful day, I've prepared something very special just for you. Every moment has been crafted with love and care.</p>
                        <p style="margin-top: 15px; font-style: italic; color: var(--primary-pink);">
                            Open your heart to receive all the love I've prepared for you today! üíñ
                        </p>
                    </div>
                </div>
            </div>
            <p class="instruction">Click the golden seal to open your birthday surprise</p>
        </div>

        <!-- Stage 2: Heart Tree -->
        <div id="stage-2" class="stage">
            <h2 class="stage-title">Tree of Wishes & Hearts üå∏</h2>
            <div class="tree-container">
                <div class="tree-branches">
                    <div class="main-branch branch-1"></div>
                    <div class="main-branch branch-2"></div>
                    <div class="main-branch branch-3"></div>
                    <div class="main-branch branch-4"></div>
                    <div class="main-branch branch-5"></div>
                </div>
                <div class="tree">
                    <div class="tree-trunk"></div>
                </div>
                <div class="heart-leaves" id="heart-leaves">
                    <!-- Hearts will be added here -->
                </div>
            </div>
            <p class="instruction">Click on the colorful hearts to reveal special messages!</p>
        </div>

        <!-- Stage 3: Cake Celebration -->
        <div id="stage-3" class="stage">
            <h2 class="stage-title">Make Your Birthday Wish üéÇ</h2>
            <div class="cake-wrapper">
                <div class="cake-container">
                    <img src="cake.jpg" alt="Beautiful Birthday Cake" class="cake-img">
                    <div class="cake-overlay">
                        <div class="cake-text">Make a Wish! ‚ú®</div>
                    </div>
                    <div class="candle"></div>
                    <div class="flame"></div>
                </div>
            </div>
            <p class="instruction">Click on the cake to blow out the candle and make your wish!</p>
        </div>

        <!-- Stage 4: Memory Gallery -->
        <div id="stage-4" class="stage">
            <h2 class="stage-title">Precious Memories Gallery üì∏</h2>
            <div class="gallery">
                <div class="gallery-item">
                    <img src="pic_one.jpg" alt="Beautiful Memory 1" class="gallery-img">
                    <div class="gallery-overlay">Beautiful Moments</div>
                </div>
                <div class="gallery-item">
                    <img src="pic_two.jpg" alt="Beautiful Memory 2" class="gallery-img">
                    <div class="gallery-overlay">Special Times</div>
                </div>
                <div class="gallery-item">
                    <img src="pic_three.png" alt="Beautiful Memory 3" class="gallery-img">
                    <div class="gallery-overlay">Cherished Memories</div>
                </div>
            </div>
            <p class="instruction">Hover over the photos to see them come to life</p>
        </div>

        <!-- Stage 5: Final Message -->
        <div id="stage-5" class="stage">
            <h2 class="stage-title">My Heartfelt Message For You üíù</h2>
            <div class="message-container">
                <div class="message-box">
                    <div class="typing-text" id="typing-text"></div>
                    <div class="cursor"></div>
                </div>
            </div>
            <p class="instruction">Sit back and enjoy your personalized birthday message</p>
        </div>
    </div>

    <!-- Day/Night Toggle -->
    <div class="day-night-toggle">
        <button class="toggle-btn">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <!-- Controls -->
    <div class="controls">
        <button class="control-btn" id="music-toggle">
            <i class="fas fa-music"></i>
        </button>
        <button class="control-btn" id="fireworks-btn">
            <i class="fas fa-fire"></i>
        </button>
        <button class="control-btn" id="confetti-btn">
            <i class="fas fa-birthday-cake"></i>
        </button>
    </div>

    <!-- Navigation Dots -->
    <div class="nav-dots">
        <div class="dot active" data-stage="1"></div>
        <div class="dot" data-stage="2"></div>
        <div class="dot" data-stage="3"></div>
        <div class="dot" data-stage="4"></div>
        <div class="dot" data-stage="5"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Create animated particles
            createParticles();
            
            // Background Music
            const backgroundMusic = document.getElementById('background-music');
            let isMusicPlaying = false;
            
            // Initialize music button
            const musicBtn = document.getElementById('music-toggle');
            musicBtn.addEventListener('click', function() {
                if (!isMusicPlaying) {
                    backgroundMusic.play().then(() => {
                        isMusicPlaying = true;
                        musicBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
                        createFloatingElement('üéµ Music On! üéµ');
                    }).catch(e => {
                        console.log("Audio playback failed:", e);
                    });
                } else {
                    backgroundMusic.pause();
                    isMusicPlaying = false;
                    musicBtn.innerHTML = '<i class="fas fa-music"></i>';
                    createFloatingElement('üîá Music Off');
                }
            });
            
            // Hide loading screen after loading
            setTimeout(() => {
                const loadingScreen = document.getElementById('loading-screen');
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    // Auto-play music gently
                    setTimeout(() => {
                        if (!isMusicPlaying) {
                            backgroundMusic.volume = 0.3;
                            backgroundMusic.play().then(() => {
                                isMusicPlaying = true;
                                musicBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
                            });
                        }
                    }, 1000);
                }, 800);
            }, 3000);
            
            function createParticles() {
                const particlesContainer = document.getElementById('particles');
                for (let i = 0; i < 30; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.width = particle.style.height = (Math.random() * 20 + 10) + 'px';
                    particle.style.left = Math.random() * 100 + 'vw';
                    particle.style.top = Math.random() * 100 + 'vh';
                    particle.style.background = getRandomParticleColor();
                    particle.style.animationDelay = Math.random() * 5 + 's';
                    particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
                    particlesContainer.appendChild(particle);
                }
            }
            
            function getRandomParticleColor() {
                const colors = [
                    'rgba(255, 105, 180, 0.3)',
                    'rgba(255, 20, 147, 0.3)',
                    'rgba(218, 112, 214, 0.3)',
                    'rgba(135, 206, 235, 0.3)',
                    'rgba(255, 215, 0, 0.3)'
                ];
                return colors[Math.floor(Math.random() * colors.length)];
            }
            
            // Stage Navigation
            const stages = document.querySelectorAll('.stage');
            const dots = document.querySelectorAll('.dot');
            
            function navigateToStage(stageNumber) {
                // Hide all stages
                stages.forEach(stage => {
                    stage.classList.remove('active');
                });
                
                // Show target stage
                const targetStage = document.getElementById(`stage-${stageNumber}`);
                if (targetStage) {
                    targetStage.classList.add('active');
                    
                    // Update navigation dots
                    dots.forEach((dot, index) => {
                        if (index === stageNumber - 1) {
                            dot.classList.add('active');
                        } else {
                            dot.classList.remove('active');
                        }
                    });
                    
                    // Special initialization for each stage
                    switch(stageNumber) {
                        case 2:
                            createHeartTree();
                            break;
                        case 3:
                            initCakeAnimation();
                            break;
                        case 5:
                            startTypingEffect();
                            break;
                    }
                    
                    // Create floating elements
                    createFloatingElements();
                }
            }
            
            // Navigation dots click
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    navigateToStage(index + 1);
                });
            });
            
            // Stage 1: Envelope click
            const envelopeSeal = document.querySelector('.envelope-seal');
            if (envelopeSeal) {
                envelopeSeal.addEventListener('click', function() {
                    const envelope = document.querySelector('.envelope');
                    if (!envelope.classList.contains('open')) {
                        envelope.classList.add('open');
                        createFloatingElement('‚ú® Happy Birthday! ‚ú®');
                        
                        // Envelope image animation
                        const envelopeImg = document.querySelector('.envelope-img');
                        envelopeImg.style.transform = 'scale(1.1)';
                        
                        // Move to next stage after delay
                        setTimeout(() => {
                            navigateToStage(2);
                        }, 2500);
                    }
                });
            }
            
            // Stage 2: Create heart tree
            function createHeartTree() {
                const heartLeaves = document.getElementById('heart-leaves');
                if (!heartLeaves) return;
                
                // Clear existing hearts
                heartLeaves.innerHTML = '';
                
                // Heart colors and messages
                const heartColors = [
                    '#ff69b4', '#ff1493', '#da70d6', '#87ceeb', 
                    '#ffd700', '#ffa500', '#ff3366', '#ff66cc',
                    '#ff99cc', '#ffccff', '#cc99ff', '#99ccff',
                    '#66ffcc', '#99ff99', '#ffff66'
                ];
                
                const heartMessages = [
                    "You're amazing! üåü",
                    "Stay blessed always! üôè",
                    "Keep smiling! üòä",
                    "Wish you endless joy! üéâ",
                    "You're one of a kind! üíñ",
                    "Stay beautiful! üå∏",
                    "Many happy returns! üéÇ",
                    "Enjoy your day! ü•≥",
                    "You're special! ‚ú®",
                    "Stay awesome! üí´",
                    "Wish you love! üíï",
                    "Stay happy! üòÑ",
                    "You're wonderful! üåà",
                    "Stay magical! üîÆ",
                    "You're incredible! üöÄ"
                ];
                
                // Create 60 hearts for full coverage
                for (let i = 0; i < 60; i++) {
                    setTimeout(() => {
                        const heart = document.createElement('div');
                        heart.className = 'heart-leaf';
                        
                        // Position hearts on branches
                        let x, y;
                        
                        // Distribute hearts across different branches
                        const branch = Math.floor(i / 12) + 1;
                        const positionInBranch = i % 12;
                        
                        switch(branch) {
                            case 1: // Bottom branch
                                x = 50 + (positionInBranch * 30);
                                y = 350 + Math.sin(positionInBranch) * 20;
                                break;
                            case 2:
                                x = 100 + (positionInBranch * 25);
                                y = 300 + Math.cos(positionInBranch) * 25;
                                break;
                            case 3:
                                x = 150 + (positionInBranch * 20);
                                y = 250 + Math.sin(positionInBranch * 1.5) * 30;
                                break;
                            case 4:
                                x = 200 + (positionInBranch * 15);
                                y = 200 + Math.cos(positionInBranch * 2) * 35;
                                break;
                            case 5: // Top branch
                                x = 250 + (positionInBranch * 10);
                                y = 150 + Math.sin(positionInBranch * 2.5) * 40;
                                break;
                            default:
                                x = 100 + (i * 5);
                                y = 400 - (i * 4);
                        }
                        
                        heart.style.left = `${x}px`;
                        heart.style.top = `${y}px`;
                        
                        // Random color from bright palette
                        const colorIndex = Math.floor(Math.random() * heartColors.length);
                        heart.style.setProperty('--heart-color', heartColors[colorIndex]);
                        
                        // Random rotation and size variation
                        const rotation = Math.random() * 360;
                        const size = 0.8 + Math.random() * 0.4;
                        heart.style.setProperty('--rotate-angle', `${rotation}deg`);
                        heart.style.transform = `scale(${size})`;
                        
                        // Animation delay for staggered effect
                        heart.style.animationDelay = `${i * 0.05}s`;
                        
                        // Click event
                        heart.addEventListener('click', function(e) {
                            e.stopPropagation();
                            const msgIndex = Math.floor(Math.random() * heartMessages.length);
                            createFloatingElement(heartMessages[msgIndex]);
                            
                            // Heart animation
                            this.style.transform = `scale(${size * 1.5}) rotate(${rotation + 45}deg)`;
                            this.style.filter = 'drop-shadow(0 0 30px currentColor) brightness(1.3)';
                            
                            setTimeout(() => {
                                this.style.transform = `scale(${size}) rotate(${rotation}deg)`;
                                this.style.filter = 'drop-shadow(0 5px 15px rgba(0, 0, 0, 0.3))';
                            }, 500);
                        });
                        
                        heartLeaves.appendChild(heart);
                    }, i * 30);
                }
                
                // Make the tree interactive
                const treeContainer = document.querySelector('.tree-container');
                treeContainer.addEventListener('click', function(e) {
                    if (!e.target.classList.contains('heart-leaf')) {
                        createFloatingElement('üå∏ Beautiful Tree of Hearts üå∏');
                    }
                });
            }
            
            // Stage 3: Cake animation
            function initCakeAnimation() {
                const cakeContainer = document.querySelector('.cake-container');
                if (!cakeContainer) return;
                
                cakeContainer.addEventListener('click', function() {
                    const flame = document.querySelector('.flame');
                    flame.style.animation = 'none';
                    flame.style.opacity = '0';
                    
                    createFloatingElement('üéâ Your Wish Will Come True! üéâ');
                    createConfetti();
                    
                    // Cake image animation
                    const cakeImg = document.querySelector('.cake-img');
                    cakeImg.style.transform = 'scale(1.15) rotate(5deg)';
                    
                    setTimeout(() => {
                        cakeImg.style.transform = 'scale(1) rotate(0deg)';
                    }, 500);
                    
                    // Move to next stage after delay
                    setTimeout(() => {
                        navigateToStage(4);
                    }, 2000);
                });
            }
            
            // Stage 4: Gallery interactions
            const galleryItems = document.querySelectorAll('.gallery-item');
            galleryItems.forEach((item, index) => {
                item.addEventListener('click', function() {
                    const messages = [
                        "Such beautiful memories! üíï",
                        "Precious moments captured forever! üì∏",
                        "You make every moment special! ‚ú®"
                    ];
                    createFloatingElement(messages[index % messages.length]);
                    
                    // Image zoom effect
                    const img = this.querySelector('.gallery-img');
                    img.style.transform = 'scale(1.15)';
                    setTimeout(() => {
                        img.style.transform = 'scale(1.1)';
                    }, 300);
                });
            });
            
            // Stage 5: Typing effect
            function startTypingEffect() {
                const typingText = document.getElementById('typing-text');
                if (!typingText) return;
                
                const message = `My Dearest Lakshmi,

On this very special day, I want to take a moment to tell you just how incredible you are. 
Your presence in this world makes it a brighter, more beautiful place.

üåü You are a beacon of light in the lives of those around you.
üåü Your kindness touches hearts in ways you may never know.
üåü Your smile has the power to brighten the darkest of days.
üåü Your spirit is a beautiful melody in life's symphony.

Today, I wish for you:
üíñ A year filled with love and laughter
üíñ Success in all your endeavors
üíñ Health and happiness that never fades
üíñ Dreams that blossom into reality
üíñ Moments that turn into cherished memories

May this birthday be the beginning of your most wonderful year yet. 
May you continue to grow, shine, and inspire everyone around you.

Remember that you are loved, you are valued, and you are capable of achieving anything you set your heart on.

Happy Birthday, beautiful soul! May your day be as magical as you are.

With all my love and warmest wishes,
Forever your admirer üíù

P.S. Keep being your amazing self ‚Äì the world needs more people like you!`;
                
                typingText.textContent = '';
                let i = 0;
                
                function typeWriter() {
                    if (i < message.length) {
                        typingText.textContent += message.charAt(i);
                        i++;
                        setTimeout(typeWriter, 20);
                    }
                }
                
                // Start typing after a brief pause
                setTimeout(typeWriter, 500);
            }
            
            // Floating elements
            function createFloatingElement(text) {
                const element = document.createElement('div');
                element.className = 'floating-element';
                element.textContent = text;
                element.style.left = Math.random() * 80 + 10 + 'vw';
                element.style.color = getRandomColor();
                element.style.fontSize = (Math.random() * 10 + 20) + 'px';
                element.style.fontFamily = Math.random() > 0.5 ? '"Dancing Script", cursive' : '"Poppins", sans-serif';
                
                document.body.appendChild(element);
                
                setTimeout(() => {
                    element.remove();
                }, 6000);
            }
            
            function createFloatingElements() {
                const symbols = ['üíñ', '‚ú®', 'üåü', 'üéâ', 'üéÇ', 'üå∏', 'üéÅ', 'üí´', 'üéà', 'ü•≥'];
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        createFloatingElement(symbols[Math.floor(Math.random() * symbols.length)]);
                    }, i * 300);
                }
            }
            
            function createConfetti() {
                const symbols = ['üéâ', '‚ú®', 'üéä', 'üí´', 'üåü', 'üéà', 'üíñ', 'üå∏', 'ü•≥', 'üéÇ'];
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        createFloatingElement(symbols[Math.floor(Math.random() * symbols.length)]);
                    }, i * 50);
                }
            }
            
            function getRandomColor() {
                const colors = ['#ff69b4', '#ff1493', '#da70d6', '#87ceeb', '#ffd700', '#ffa500', '#ff3366'];
                return colors[Math.floor(Math.random() * colors.length)];
            }
            
            // Day/Night mode toggle
            const toggleBtn = document.querySelector('.toggle-btn');
            if (toggleBtn) {
                toggleBtn.addEventListener('click', function() {
                    document.body.classList.toggle('night-mode');
                    const icon = this.querySelector('i');
                    if (document.body.classList.contains('night-mode')) {
                        icon.className = 'fas fa-sun';
                        icon.style.color = '#ffd700';
                    } else {
                        icon.className = 'fas fa-moon';
                        icon.style.color = '#ff69b4';
                    }
                    
                    // Create magical transition effect
                    for (let i = 0; i < 10; i++) {
                        setTimeout(() => {
                            createFloatingElement('‚ú®');
                        }, i * 100);
                    }
                });
            }
            
            // Control buttons
            document.getElementById('fireworks-btn').addEventListener('click', function() {
                createConfetti();
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        createFloatingElement('üéÜ');
                    }, i * 200);
                }
            });
            
            document.getElementById('confetti-btn').addEventListener('click', function() {
                createConfetti();
                createFloatingElement('ü•≥ Party Time! ü•≥');
            });
            
            // Auto navigation every 25 seconds
            let currentStage = 1;
            const autoNav = setInterval(() => {
                if (currentStage < 5) {
                    currentStage++;
                    navigateToStage(currentStage);
                } else {
                    clearInterval(autoNav);
                }
            }, 25000);
            
            // Initialize first stage
            createFloatingElements();
        });
    </script>
</body>
</html>
