<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Lakshtu ðŸ’–</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            padding: 20px;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s;
        }

        .loader {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: white;
            margin-top: 20px;
            font-size: 1.2rem;
            text-align: center;
        }

        /* Envelope Stage */
        .stage {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            width: 100%;
            padding: 20px;
        }

        .stage.active {
            display: flex;
        }

        .envelope-container {
            position: relative;
            width: 300px;
            height: 200px;
            cursor: pointer;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .envelope {
            position: absolute;
            width: 100%;
            height: 100%;
            background: #ff4f9a;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.5s;
        }

        .envelope:hover {
            transform: scale(1.05);
        }

        .envelope-top {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-bottom: 100px solid #ff66cc;
            top: 0;
            z-index: 2;
            transform-origin: top;
            transition: transform 0.5s;
        }

        .envelope.open .envelope-top {
            transform: rotateX(180deg);
        }

        .envelope-bottom {
            position: absolute;
            width: 100%;
            height: 100%;
            background: #ff4f9a;
            border-radius: 10px;
            bottom: 0;
            z-index: 1;
        }

        .letter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transition: all 0.5s 0.3s;
            z-index: 0;
        }

        .envelope.open .letter {
            opacity: 1;
            transform: translateX(-50%) translateY(-150px);
        }

        .letter-content {
            text-align: center;
            color: #333;
        }

        .letter-content h2 {
            color: #ff4f9a;
            margin-bottom: 10px;
        }

        .instruction {
            color: white;
            font-size: 1.2rem;
            margin-top: 20px;
            text-align: center;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Tree Stage */
        .tree-container {
            width: 300px;
            height: 400px;
            position: relative;
            margin: 20px 0;
        }

        .tree {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        .trunk {
            width: 20px;
            height: 150px;
            background: #8b4513;
            margin: 0 auto;
        }

        .branches {
            position: absolute;
            bottom: 150px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 200px;
            background: #228B22;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .leaf {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #ff4f9a;
            border-radius: 50% 0 50% 50%;
            opacity: 0;
            transform: scale(0);
            animation: leafGrow 0.5s forwards;
        }

        @keyframes leafGrow {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .cake {
            width: 150px;
            margin-top: 20px;
            cursor: pointer;
            animation: float 3s ease-in-out infinite;
            transition: transform 0.3s;
        }

        .cake:hover {
            transform: scale(1.1);
        }

        /* Final Stage */
        .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            max-width: 1000px;
        }

        .gallery img {
            width: 250px;
            height: 300px;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s;
        }

        .gallery img:hover {
            transform: translateY(-10px);
        }

        .message-box {
            max-width: 600px;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin: 20px;
        }

        .typing-text {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #333;
            min-height: 200px;
        }

        .cursor {
            display: inline-block;
            width: 3px;
            height: 20px;
            background: #ff4f9a;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Controls */
        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .envelope-container {
                width: 250px;
                height: 167px;
            }

            .envelope-top {
                border-left: 125px solid transparent;
                border-right: 125px solid transparent;
                border-bottom: 83px solid #ff66cc;
            }

            .gallery img {
                width: 100%;
                max-width: 300px;
                height: 250px;
            }

            .message-box {
                padding: 20px;
                margin: 10px;
            }

            .controls {
                top: 10px;
                right: 10px;
            }
        }

        @media (max-width: 480px) {
            .envelope-container {
                width: 200px;
                height: 133px;
            }

            .envelope-top {
                border-left: 100px solid transparent;
                border-right: 100px solid transparent;
                border-bottom: 67px solid #ff66cc;
            }

            .tree-container {
                width: 250px;
                height: 350px;
            }
        }

        /* Heart Animation */
        .heart {
            position: fixed;
            font-size: 20px;
            animation: fall linear forwards;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Navigation Dots */
        .nav-dots {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transition: all 0.3s;
        }

        .dot.active {
            background: white;
            transform: scale(1.2);
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
        <div class="loading-text">Preparing your surprise...</div>
    </div>

    <!-- Navigation Dots -->
    <div class="nav-dots">
        <div class="dot active" data-stage="1"></div>
        <div class="dot" data-stage="2"></div>
        <div class="dot" data-stage="3"></div>
    </div>

    <!-- Controls -->
    <div class="controls">
        <button class="control-btn" id="musicToggle">
            <i class="fas fa-music"></i>
        </button>
        <button class="control-btn" id="themeToggle">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <!-- Stage 1: Envelope -->
    <div class="stage active" id="stage1">
        <h1 style="color: white; margin-bottom: 30px; text-align: center;">Tap the envelope to begin ðŸ’Œ</h1>
        <div class="envelope-container" id="envelopeContainer">
            <div class="envelope" id="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-bottom"></div>
                <div class="letter">
                    <div class="letter-content">
                        <h2>For Lakshtu ðŸ’–</h2>
                        <p>A beautiful surprise awaits you!</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="instruction">Tap to open the envelope</div>
    </div>

    <!-- Stage 2: Tree -->
    <div class="stage" id="stage2">
        <h1 style="color: white; margin-bottom: 20px; text-align: center;">Your Birthday Tree ðŸŒ¸</h1>
        <div class="tree-container">
            <div class="tree">
                <div class="trunk"></div>
                <div class="branches"></div>
            </div>
        </div>
        <img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80" 
             alt="Birthday Cake" class="cake" id="cake">
        <div class="instruction">Tap the cake to continue ðŸŽ‚</div>
    </div>

    <!-- Stage 3: Final -->
    <div class="stage" id="stage3">
        <h1 style="color: white; margin-bottom: 20px; text-align: center;">Happy Birthday Lakshtu! ðŸŽ‰</h1>
        
        <div class="gallery">
            <img src="https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80" 
                 alt="Memory 1">
            <img src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80" 
                 alt="Memory 2">
            <img src="https://images.unsplash.com/photo-1494526585095-c41746248156?ixlib=rb-1.2.1&auto=format&fit=crop&w-300&q=80" 
                 alt="Memory 3">
        </div>

        <div class="message-box">
            <div class="typing-text" id="typingText"></div>
            <span class="cursor" id="cursor"></span>
        </div>

        <div class="instruction">Scroll to read the full message ðŸ“œ</div>
    </div>

    <!-- Audio for background music -->
    <audio id="bgMusic" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-happy-day-583.mp3" type="audio/mpeg">
    </audio>

    <script>
        // DOM Elements
        const loadingScreen = document.getElementById('loadingScreen');
        const envelopeContainer = document.getElementById('envelopeContainer');
        const envelope = document.getElementById('envelope');
        const cake = document.getElementById('cake');
        const typingText = document.getElementById('typingText');
        const cursor = document.getElementById('cursor');
        const musicToggle = document.getElementById('musicToggle');
        const themeToggle = document.getElementById('themeToggle');
        const bgMusic = document.getElementById('bgMusic');
        const stages = document.querySelectorAll('.stage');
        const dots = document.querySelectorAll('.dot');
        
        // State variables
        let currentStage = 1;
        let isMusicPlaying = false;
        let isDarkMode = false;
        let isTyping = false;

        // Message for typing effect
        const message = `My dearest Lakshtu,

On your special day, I want you to know how much you mean to me. 
Every moment with you is a treasure, every memory is precious.

Your smile lights up my world,
Your laughter is my favorite melody,
And your love is my greatest blessing.

Thank you for being the amazing person you are.
Thank you for bringing so much joy into my life.

On this birthday, I wish for you:
âœ¨ Endless happiness
âœ¨ Beautiful moments
âœ¨ Dreams come true
âœ¨ Love that grows stronger every day

Happy Birthday, my love!
May this year be your best one yet.

With all my love,
Forever yours... ðŸ’–`;

        // Initialize
        window.addEventListener('load', () => {
            setTimeout(() => {
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    startHeartAnimation();
                }, 500);
            }, 2000);
        });

        // Envelope Click
        envelopeContainer.addEventListener('click', () => {
            envelope.classList.add('open');
            
            setTimeout(() => {
                switchStage(2);
                createLeaves();
                startHeartAnimation();
                playMusic();
            }, 1500);
        });

        // Cake Click
        cake.addEventListener('click', () => {
            switchStage(3);
            startTyping();
            startHeartAnimation();
        });

        // Switch between stages
        function switchStage(stageNumber) {
            // Hide all stages
            stages.forEach(stage => stage.classList.remove('active'));
            
            // Show current stage
            document.getElementById(`stage${stageNumber}`).classList.add('active');
            
            // Update navigation dots
            dots.forEach((dot, index) => {
                if (index + 1 === stageNumber) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
            
            currentStage = stageNumber;
        }

        // Create leaves on tree
        function createLeaves() {
            const treeContainer = document.querySelector('.tree-container');
            
            // Remove existing leaves
            document.querySelectorAll('.leaf').forEach(leaf => leaf.remove());
            
            // Create new leaves
            for (let i = 0; i < 30; i++) {
                const leaf = document.createElement('div');
                leaf.className = 'leaf';
                
                // Random position
                const angle = Math.random() * Math.PI * 2;
                const radius = Math.random() * 80 + 20;
                const x = 150 + Math.cos(angle) * radius;
                const y = 150 + Math.sin(angle) * radius;
                
                leaf.style.left = `${x}px`;
                leaf.style.top = `${y}px`;
                
                // Random size and rotation
                const size = Math.random() * 10 + 20;
                leaf.style.width = `${size}px`;
                leaf.style.height = `${size}px`;
                leaf.style.transform = `rotate(${Math.random() * 360}deg)`;
                
                // Random color
                const hue = Math.floor(Math.random() * 30) + 330;
                leaf.style.backgroundColor = `hsl(${hue}, 100%, 70%)`;
                
                // Random animation delay
                leaf.style.animationDelay = `${Math.random() * 2}s`;
                
                treeContainer.appendChild(leaf);
            }
        }

        // Typing effect
        function startTyping() {
            if (isTyping) return;
            
            isTyping = true;
            let index = 0;
            typingText.textContent = '';
            cursor.style.display = 'inline-block';
            
            function type() {
                if (index < message.length) {
                    typingText.textContent += message.charAt(index);
                    index++;
                    
                    // Scroll to keep cursor visible
                    typingText.parentElement.scrollTop = typingText.scrollHeight;
                    
                    // Random typing speed
                    const speed = message.charAt(index - 1) === '\n' ? 200 : 30 + Math.random() * 50;
                    
                    setTimeout(type, speed);
                } else {
                    cursor.style.display = 'none';
                    isTyping = false;
                    createConfetti();
                }
            }
            
            type();
        }

        // Heart animation
        function startHeartAnimation() {
            // Create hearts occasionally
            setInterval(() => {
                if (Math.random() > 0.7) {
                    createHeart();
                }
            }, 1000);
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = 'â¤ï¸';
            
            // Random position
            heart.style.left = `${Math.random() * 100}%`;
            
            // Random size
            const size = Math.random() * 20 + 15;
            heart.style.fontSize = `${size}px`;
            
            // Random animation duration
            const duration = Math.random() * 3 + 2;
            heart.style.animationDuration = `${duration}s`;
            
            // Random color
            const hue = Math.floor(Math.random() * 30) + 330;
            heart.style.color = `hsl(${hue}, 100%, 70%)`;
            
            document.body.appendChild(heart);
            
            // Remove after animation
            setTimeout(() => {
                heart.remove();
            }, duration * 1000);
        }

        // Confetti effect
        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    createHeart();
                }, i * 50);
            }
        }

        // Music control
        musicToggle.addEventListener('click', () => {
            if (isMusicPlaying) {
                bgMusic.pause();
                musicToggle.innerHTML = '<i class="fas fa-music"></i>';
            } else {
                bgMusic.play().catch(e => console.log("Audio play failed:", e));
                musicToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
            }
            isMusicPlaying = !isMusicPlaying;
        });

        // Theme toggle
        themeToggle.addEventListener('click', () => {
            isDarkMode = !isDarkMode;
            
            if (isDarkMode) {
                document.body.style.background = 'linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)';
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                document.body.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
        });

        // Play music on user interaction
        function playMusic() {
            if (!isMusicPlaying) {
                bgMusic.volume = 0.5;
                bgMusic.play().then(() => {
                    isMusicPlaying = true;
                    musicToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
                }).catch(e => console.log("Autoplay prevented"));
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case 'ArrowRight':
                case ' ':
                    if (currentStage === 1) envelopeContainer.click();
                    else if (currentStage === 2) cake.click();
                    break;
                case 'ArrowLeft':
                    if (currentStage === 2) switchStage(1);
                    else if (currentStage === 3) switchStage(2);
                    break;
                case 'm':
                    musicToggle.click();
                    break;
                case 't':
                    themeToggle.click();
                    break;
            }
        });

        // Touch support for mobile
        let lastTap = 0;
        document.addEventListener('touchend', (e) => {
            const currentTime = new Date().getTime();
            const tapLength = currentTime - lastTap;
            
            if (tapLength < 300 && tapLength > 0) {
                // Double tap to skip typing
                if (currentStage === 3 && isTyping) {
                    typingText.textContent = message;
                    cursor.style.display = 'none';
                    isTyping = false;
                    createConfetti();
                }
            }
            
            lastTap = currentTime;
        });

        // Mobile swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            
            if (touchEndX < touchStartX - swipeThreshold) {
                // Swipe left - go forward
                if (currentStage === 1) envelopeContainer.click();
                else if (currentStage === 2) cake.click();
            }
            
            if (touchEndX > touchStartX + swipeThreshold) {
                // Swipe right - go back
                if (currentStage === 2) switchStage(1);
                else if (currentStage === 3) switchStage(2);
            }
        }

        // Add some initial hearts
        for (let i = 0; i < 5; i++) {
            setTimeout(() => createHeart(), i * 200);
        }

        console.log("Website loaded successfully! ðŸ’–");
    </script>
</body>
</html>
